@{
    ViewData["Title"] = "Blog | Team-Up";
    ViewData["Description"] = "Blog o tematyce startupowo-technologicznej, dostarczamy różne ciekawostki ze świata";
    var url = Context.Request.HttpContext.Request.Scheme + "://" + Context.Request.Host;
    var imageUrl = Url.Content(url + "/img/find.jpg");
    ViewData["Image"] = imageUrl;
    @model TeamUp.Models.BlogUserModel
}

@if (Model.User != null)
    if (Model.User.isAdmin)
    {
        <div class="b-create-clearfix-newpost">
            <a class="b-create-newpost" asp-action="Create" asp-controller="Blog">Nowy Post</a>
        </div>
    }

@if (Model.Posts == null)
{
    @if (Model.Posts.Count == 0)
    {
        <section class="b-arcticles">
            <div class="b-clearfix-a">
                <h1>Nie znaleziono wpisów</h1>
            </div>
        </section>
    }
}
else
{

@if (Model.currentPage == 1)
{
    <section class="b-header">
        <div class="b-clearfix-h">
            <div class="b-post-h" style="background: url(@Url.Content(url + @"/img/blog/" + Model.Posts.ElementAt(0).MainImage));">
                <div class="b-text">
                    <h1 class="b-header-bg">@Model.Posts.ElementAt(0).Header</h1>
                    <div class="blue-button" style="margin-top: 10px;">
                        <a class="scrollTo" asp-action="Post" asp-controller="Blog" asp-route-id="@Model.Posts.ElementAt(0).Id">Przeczytaj więcej</a>
                    </div>
                </div>
            </div>
        </div>
    </section>
}


<section class="b-arcticles">
    <div class="b-clearfix-a">
        @if (Model.currentPage > Model.numberOfPages)
        {
            <h1 style="color: black">Nie znaleziono wpisów</h1>
        }
        else if (Model.currentPage == 1)
        {
            @for (int i = 1; i <= 6; i++)
            {
                @if (i >= Model.Posts.Count)
                {

                }
                else if (i % 2 == 1)
                {
                    <div class="b-article-l">
                        <div class="b-post-a" style="background: url(@Url.Content(url + @"/img/blog/" + Model.Posts.ElementAt(i).MainImage));">
                            <div class="b-text">
                                <h1 class="b-header-bg">@Model.Posts.ElementAt(i).Header</h1>
                                <div class="blue-button" style="margin-top: 10px;">
                                    <a class="scrollTo" asp-action="Post" asp-controller="Blog" asp-route-id="@Model.Posts.ElementAt(i).Id">Przeczytaj więcej</a>
                                </div>
                            </div>
                        </div>
                    </div>
                }
                else
                {
                    <div class="b-article-r">
                        <div class="b-post-a" style="background: url(@Url.Content(url + @"/img/blog/" + Model.Posts.ElementAt(i).MainImage));">
                            <div class="b-text">
                                <h1>@Model.Posts.ElementAt(i).Header</h1>
                                <div class="blue-button" style="margin-top: 10px;">
                                    <a class="scrollTo" asp-action="Post" asp-controller="Blog" asp-route-id="@Model.Posts.ElementAt(i).Id">Przeczytaj więcej</a>
                                </div>
                            </div>
                        </div>
                    </div>
                }
            }
        }
        else
        {
            @for (int i = ((Model.currentPage - 1) * 7 + (Model.currentPage - 2)); i <= (((Model.currentPage - 1) * 7) + 7 + (Model.currentPage - 2)); i++)
            {
                @if (i >= Model.Posts.Count)
                {

                }
                else if (i % 2 == 1)
                {
                    <div class="b-article-l">
                        <div class="b-post-a" style="background: url(@Url.Content(url + @"/img/blog/" + Model.Posts.ElementAt(i).MainImage));">
                            <div class="b-text">
                                <h1>@Model.Posts.ElementAt(i).Header</h1>
                                <div class="blue-button" style="margin-top: 10px;">
                                    <a class="scrollTo" asp-action="Post" asp-controller="Blog" asp-route-id="@Model.Posts.ElementAt(i).Id">Przeczytaj więcej</a>
                                </div>
                            </div>
                        </div>
                    </div>
                }
                else
                {
                    <div class="b-article-r">
                        <div class="b-post-a" style="background: url(@Url.Content(url + @"/img/blog/" + Model.Posts.ElementAt(i).MainImage));">
                            <div class="b-text">
                                <h1>@Model.Posts.ElementAt(i).Header</h1>
                                <div class="blue-button" style="margin-top: 10px;">
                                    <a class="scrollTo" asp-action="Post" asp-controller="Blog" asp-route-id="@Model.Posts.ElementAt(i).Id">Przeczytaj więcej</a>
                                </div>
                            </div>
                        </div>
                    </div>
                }
            }
        }

    </div>
</section>


<section class="b-carousel">
    <div class="b-clearfix-c">
        <div class="b-pagination">
            @if (Model.currentPage == 1)
            {
                <a href="#">&laquo;</a>
                <a class="active">1</a>
                <a asp-action="Index" asp-controller="Blog" asp-route-page="2">2</a>
                <a asp-action="Index" asp-controller="Blog" asp-route-page="3">3</a>
                <a asp-action="Index" asp-controller="Blog" asp-route-page="4">4</a>
                <a asp-action="Index" asp-controller="Blog" asp-route-page="5">5</a>
                <a asp-action="Index" asp-controller="Blog" asp-route-page="2">&raquo;</a>
            }
            else if (Model.currentPage <= 4)
            {
                <a asp-action="Index" asp-controller="Blog" asp-route-page="@(Model.currentPage - 1)">&laquo;</a>
                <a asp-action="Index" asp-controller="Blog" asp-route-page="1">1</a>
                for (int i = 2; i <= 5; i++)
                {
                    if (Model.currentPage == i)
                    {
                        <a asp-action="Index" asp-controller="Blog" asp-route-page="@i" class="active">@i</a>
                    }
                    else
                    {
                        <a asp-action="Index" asp-controller="Blog" asp-route-page="@i">@i</a>
                    }
                }
                <a asp-action="Index" asp-controller="Blog" asp-route-page="@(Model.currentPage + 1)">&raquo;</a>
            }
            else
            {
                <a asp-action="Index" asp-controller="Blog" asp-route-page="@(Model.currentPage - 1)">&laquo;</a>
                <a asp-action="Index" asp-controller="Blog" asp-route-page="1">1</a>
                <a asp-action="Index" asp-controller="Blog" asp-route-page="@(Model.currentPage - 1)">@(Model.currentPage - 1)</a>
                <a asp-action="Index" asp-controller="Blog" asp-route-page="@(Model.currentPage)" class="active">@(Model.currentPage)</a>
                <a asp-action="Index" asp-controller="Blog" asp-route-page="@(Model.currentPage + 1)">@(Model.currentPage + 1)</a>
                <a asp-action="Index" asp-controller="Blog" asp-route-page="@(Model.currentPage + 2)">@(Model.currentPage + 2)</a>
                <a asp-action="Index" asp-controller="Blog" asp-route-page="@(Model.currentPage + 1)">&raquo;</a>
            }
        </div>
    </div>
</section>

}